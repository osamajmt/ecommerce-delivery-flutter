plugins {
  id 'com.android.application' apply false
  id 'com.android.library' apply false
  id 'com.google.gms.google-services' version '4.4.3' apply false
}
allprojects {
    repositories {
        google()
        mavenCentral()
        maven { url "https://maven.aliyun.com/repository/google" }
        maven { url "https://maven.aliyun.com/repository/central" }
        maven { url "https://maven.aliyun.com/repository/gradle-plugin" }
    }
}

// Move build output directory
def newBuildDir = rootProject.layout.buildDirectory.dir("../../build").get().asFile
rootProject.buildDir = newBuildDir

subprojects {
    buildDir = new File(newBuildDir, name)
    evaluationDependsOn(':app')
}

// Clean task
tasks.register('clean', Delete) {
    delete rootProject.buildDir
}
